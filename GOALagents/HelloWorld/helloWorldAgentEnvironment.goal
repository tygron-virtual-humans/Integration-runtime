init module{
   beliefs{
      nrOfPrintedLines(0) .
   }
   
   goals{
      nrOfPrintedLines(10) .
   }
   
   actionspec{
      % The action printText expects a string of the form "..." as argument. It can
      % always be performed and has no other effect than printing Text to a window.
      printText(Text) {
         pre{ true }
         post{ true }
      }
   }
}

main module [exit = nogoals] {
   program{
      if goal( nrOfPrintedLines(10) ) then printText("Hello, world!") .
   }
}

event module{
   program{
      if bel( percept( printedText(NewCount) ), nrOfPrintedLines(Count) )
      then delete( nrOfPrintedLines(Count) ) + insert( nrOfPrintedLines(NewCount) ) .
   }
}
